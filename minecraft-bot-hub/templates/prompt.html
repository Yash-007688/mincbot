<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat & Bot Vision - Minecraft Bot Hub</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #f7f7f8;
            color: #374151;
            height: 100vh;
            overflow: hidden;
        }
        
        .app-container {
            display: flex;
            height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            width: 260px;
            background: #202123;
            color: white;
            display: flex;
            flex-direction: column;
            border-right: 1px solid #4a4b4d;
        }
        
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #4a4b4d;
        }
        
        .sidebar-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #8B4513;
        }
        
        .new-chat-btn {
            width: 100%;
            padding: 12px 16px;
            background: #8B4513;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.2s ease;
        }
        
        .new-chat-btn:hover {
            background: #A0522D;
        }
        
        .chat-history {
            flex: 1;
            overflow-y: auto;
            padding: 0 20px;
        }
        
        .chat-item {
            padding: 12px 16px;
            margin: 4px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
        }
        
        .chat-item:hover {
            background: #2d2d30;
        }
        
        .chat-item.active {
            background: #343541;
        }
        
        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid #4a4b4d;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            background: #8B4513;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        /* Chat Section */
        .chat-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #343541;
        }
        
        .chat-header {
            padding: 20px;
            background: #40414f;
            border-bottom: 1px solid #565869;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chat-title {
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .vision-toggle {
            background: #8B4513;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .vision-toggle:hover {
            background: #A0522D;
        }
        
        .go-live-btn {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }
        
        .go-live-btn:hover {
            background: linear-gradient(135deg, #c82333, #a71e2a);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.3);
        }
        
        .go-live-btn:active {
            transform: translateY(0);
        }
        
        .go-live-btn.live {
            background: linear-gradient(135deg, #28a745, #20c997);
            animation: none;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .header-actions {
            display: flex;
            gap: 10px;
        }
        
        .settings-toggle {
            background: #40414f;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .settings-toggle:hover {
            background: #8B4513;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }
        
        .message {
            display: flex;
            margin-bottom: 20px;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .message-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            margin: 0 12px;
        }
        
        .message.user .message-avatar {
            background: #8B4513;
            color: white;
        }
        
        .message.bot .message-avatar {
            background: #10a37f;
            color: white;
        }
        
        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .message.user .message-content {
            background: #8B4513;
            color: white;
        }
        
        .message.bot .message-content {
            background: #40414f;
            color: white;
        }
        
        .message-input-container {
            padding: 20px;
            background: #40414f;
            border-top: 1px solid #565869;
        }
        
        .message-input-wrapper {
            position: relative;
            max-width: 768px;
            margin: 0 auto;
        }
        
        .message-input {
            width: 100%;
            padding: 12px 50px 12px 16px;
            border: 1px solid #565869;
            border-radius: 12px;
            background: #40414f;
            color: white;
            font-size: 16px;
            resize: none;
            min-height: 52px;
            max-height: 200px;
        }
        
        .message-input:focus {
            outline: none;
            border-color: #8B4513;
        }
        
        .send-button {
            position: absolute;
            right: 8px;
            bottom: 8px;
            background: #8B4513;
            color: white;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        
        .send-button:hover {
            background: #A0522D;
        }
        
        .send-button:disabled {
            background: #6b7280;
            cursor: not-allowed;
        }
        
        /* Vision Section */
        .vision-section {
            width: 400px;
            background: #1a1a1a;
            border-left: 1px solid #4a4b4d;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }
        
        .vision-section.collapsed {
            width: 0;
            overflow: hidden;
        }
        
        .vision-header {
            padding: 20px;
            background: #2d2d30;
            border-bottom: 1px solid #4a4b4d;
            color: white;
            font-weight: 600;
        }
        
        .vision-grid {
            flex: 1;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            overflow-y: auto;
        }
        
        .vision-feed {
            background: #2d2d30;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid #4a4b4d;
        }
        
        .vision-feed-header {
            padding: 12px 16px;
            background: #40414f;
            color: white;
            font-size: 14px;
            font-weight: 500;
            border-bottom: 1px solid #4a4b4d;
        }
        
        .vision-feed-content {
            height: 200px;
            background: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            font-size: 14px;
            position: relative;
        }
        
        .vision-placeholder {
            text-align: center;
        }
        
        .vision-placeholder .icon {
            font-size: 2rem;
            margin-bottom: 10px;
            opacity: 0.5;
        }
        
        .live-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ef4444;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .vision-section {
                width: 300px;
            }
        }
        
        @media (max-width: 768px) {
            .sidebar {
                width: 200px;
            }
            
            .vision-section {
                position: fixed;
                right: 0;
                top: 0;
                height: 100vh;
                z-index: 1000;
                transform: translateX(100%);
            }
            
            .vision-section.active {
                transform: translateX(0);
            }
        }
        
        /* Loading animation */
        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 12px 16px;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background: #10a37f;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
        
        /* Back to home button */
        .back-home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: #8B4513;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            z-index: 1001;
            transition: all 0.2s ease;
        }
        
        .back-home-btn:hover {
            background: #A0522D;
        }
        
        /* Settings Section */
        .settings-section {
            position: fixed;
            top: 0;
            right: 0;
            width: 400px;
            height: 100vh;
            background: #1a1a1a;
            border-left: 1px solid #4a4b4d;
            transform: translateX(100%);
            transition: all 0.3s ease;
            z-index: 999;
            display: flex;
            flex-direction: column;
        }
        
        .settings-section.active {
            transform: translateX(0);
        }
        
        .settings-header {
            padding: 20px;
            background: #2d2d30;
            border-bottom: 1px solid #4a4b4d;
            color: white;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .settings-close {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }
        
        .settings-close:hover {
            background: #40414f;
        }
        
        .settings-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .settings-group {
            margin-bottom: 30px;
        }
        
        .settings-group h3 {
            color: #F5DEB3;
            margin-bottom: 15px;
            font-size: 1.1rem;
            border-bottom: 2px solid #8B4513;
            padding-bottom: 8px;
        }
        
        .form-field {
            margin-bottom: 20px;
        }
        
        .form-field label {
            display: block;
            color: #DEB887;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .form-field input {
            width: 100%;
            padding: 12px;
            border: 2px solid #4a4b4d;
            border-radius: 8px;
            background: #2d2d30;
            color: white;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .form-field input:focus {
            outline: none;
            border-color: #8B4513;
            box-shadow: 0 0 0 2px rgba(139, 69, 19, 0.2);
        }
        
        .form-field input::placeholder {
            color: #6b7280;
        }
        
        .save-btn {
            width: 100%;
            padding: 12px;
            background: #8B4513;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 20px;
        }
        
        .save-btn:hover {
            background: #A0522D;
        }
        
        .save-btn:disabled {
            background: #6b7280;
            cursor: not-allowed;
        }
        
        .bot-list {
            background: #2d2d30;
            border-radius: 8px;
            border: 1px solid #4a4b4d;
            overflow: hidden;
        }
        
        .bot-item {
            padding: 15px;
            border-bottom: 1px solid #4a4b4d;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .bot-item:last-child {
            border-bottom: none;
        }
        
        .bot-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .bot-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #10a37f;
            animation: pulse 2s infinite;
        }
        
        .bot-status.offline {
            background: #ef4444;
            animation: none;
        }
        
        .bot-details h4 {
            color: #F5DEB3;
            font-size: 14px;
            margin-bottom: 4px;
        }
        
        .bot-details p {
            color: #DEB887;
            font-size: 12px;
            margin: 0;
        }
        
        .bot-actions {
            display: flex;
            gap: 8px;
        }
        
        .bot-action-btn {
            background: #40414f;
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .bot-action-btn:hover {
            background: #8B4513;
        }
        
        /* Bot Deployment */
        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 5px;
        }
        
        .bot-count-slider {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: #e1e5e9;
            outline: none;
            -webkit-appearance: none;
        }
        
        .bot-count-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #8B4513;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .bot-count-slider::-webkit-slider-thumb:hover {
            background: #A0522D;
            transform: scale(1.1);
        }
        
        .slider-value {
            font-weight: 600;
            color: #8B4513;
            min-width: 80px;
            text-align: center;
        }
        
        /* Bot Names Styling */
        .bot-names-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 10px;
        }
        
        .bot-name-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .bot-name-input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #565869;
            border-radius: 6px;
            background: #40414f;
            color: white;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .bot-name-input:focus {
            outline: none;
            border-color: #8B4513;
            box-shadow: 0 0 0 2px rgba(139, 69, 19, 0.2);
        }
        
        .bot-name-input::placeholder {
            color: #8a8b8c;
        }
        
        .status-tag {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            min-width: 80px;
            text-align: center;
            transition: all 0.2s ease;
        }
        
        .status-tag.online {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 1px solid #22c55e;
        }
        
        .status-tag.offline {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid #ef4444;
        }
        
        .status-tag.connecting {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid #fbbf24;
        }
        
        .bot-names-info {
            margin-top: 8px;
            color: #8a8b8c;
            font-style: italic;
        }
        
        .deploy-btn {
            width: 100%;
            padding: 12px 16px;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .deploy-btn:hover {
            background: linear-gradient(135deg, #218838, #1e7e34);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
        }
        
        .deploy-btn:active {
            transform: translateY(0);
        }
        
        .deploy-btn.deploying {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
            cursor: not-allowed;
        }
        
        .connection-status {
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            font-weight: 500;
            text-align: center;
        }
        
        .connection-status.connected {
            background: rgba(16, 163, 127, 0.2);
            color: #10a37f;
            border: 1px solid #10a37f;
        }
        
        .connection-status.disconnected {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid #ef4444;
        }
        
        .refresh-btn {
            background: #40414f;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-left: 10px;
        }
        
        .refresh-btn:hover {
            background: #8B4513;
        }
    </style>
</head>
<body>
    <button class="back-home-btn" onclick="window.location.href='index.html'">← Home</button>
    
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">MINECRAFT BOT HUB</div>
            </div>
            
            <button class="new-chat-btn" onclick="startNewChat()">+ New Chat</button>
            
            <div class="chat-history" id="chatHistory">
                <div class="chat-item active">General Chat</div>
                <div class="chat-item">Bot Vision Analysis</div>
                <div class="chat-item">Minecraft World</div>
                <div class="chat-item">AI Assistance</div>
            </div>
            
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">U</div>
                    <span>User</span>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Chat Section -->
            <div class="chat-section">
                <div class="chat-header">
                    <div class="chat-title">AI Chat Assistant</div>
                    <div class="header-actions">
                        <button class="go-live-btn" onclick="goLive()" id="goLiveBtn">
                            🚀 Go Live
                        </button>
                        <button class="vision-toggle" onclick="toggleVision()" id="visionToggle">
                            👁️ Show Vision
                        </button>
                        <button class="settings-toggle" onclick="toggleSettings()" id="settingsToggle">
                            ⚙️ Settings
                        </button>
                    </div>
                </div>
                
                <div class="chat-messages" id="chatMessages">
                    <div class="message bot">
                        <div class="message-avatar">AI</div>
                        <div class="message-content">
                            Hello! I'm your AI assistant. I can help you with various tasks and analyze information from our bot vision systems. What would you like to know or do today?
                        </div>
                    </div>
                </div>
                
                <div class="message-input-container">
                    <div class="message-input-wrapper">
                        <textarea 
                            class="message-input" 
                            id="messageInput" 
                            placeholder="Type your message here..."
                            rows="1"
                        ></textarea>
                        <button class="send-button" onclick="sendMessage()" id="sendButton">
                            ➤
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Vision Section -->
        <div class="vision-section" id="visionSection">
            <div class="vision-header">
                🤖 Live Bot Vision Streams
            </div>
            
            <div class="vision-grid">
                <div class="vision-feed">
                    <div class="vision-feed-header">
                        Bot Alpha - Main Camera
                        <div class="live-indicator">LIVE</div>
                    </div>
                    <div class="vision-feed-content">
                        <div class="vision-placeholder">
                            <div class="icon">📹</div>
                            <div>Live Stream</div>
                            <div style="font-size: 12px; margin-top: 5px;">Analyzing environment...</div>
                        </div>
                    </div>
                </div>
                
                <div class="vision-feed">
                    <div class="vision-feed-header">
                        Bot Beta - Thermal Vision
                        <div class="live-indicator">LIVE</div>
                    </div>
                    <div class="vision-feed-content">
                        <div class="vision-placeholder">
                            <div class="icon">🔥</div>
                            <div>Thermal Feed</div>
                            <div style="font-size: 12px; margin-top: 5px;">Temperature mapping...</div>
                        </div>
                    </div>
                </div>
                
                <div class="vision-feed">
                    <div class="vision-feed-header">
                        Bot Gamma - Depth Sensor
                        <div class="live-indicator">LIVE</div>
                    </div>
                    <div class="vision-feed-content">
                        <div class="vision-placeholder">
                            <div class="icon">📐</div>
                            <div>Depth Analysis</div>
                            <div style="font-size: 12px; margin-top: 5px;">3D mapping...</div>
                        </div>
                    </div>
                </div>
                
                <div class="vision-feed">
                    <div class="vision-feed-header">
                        Bot Delta - Object Detection
                        <div class="live-indicator">LIVE</div>
                    </div>
                    <div class="vision-feed-content">
                        <div class="vision-placeholder">
                            <div class="icon">🎯</div>
                            <div>Object Tracking</div>
                            <div style="font-size: 12px; margin-top: 5px;">Identifying objects...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Settings Section -->
    <div class="settings-section" id="settingsSection">
        <div class="settings-header">
            <span>⚙️ Settings & Configuration</span>
            <button class="settings-close" onclick="toggleSettings()">×</button>
        </div>
        
        <div class="settings-content">
            <!-- Connection Status -->
            <div class="connection-status connected" id="connectionStatus">
                🟢 Connected to Server
                <button class="refresh-btn" onclick="refreshConnection()">🔄</button>
            </div>
            
            <!-- Server Configuration -->
            <div class="settings-group">
                <h3>🌐 Server Configuration</h3>
                <div class="form-field">
                    <label for="serverName">Server Name</label>
                    <input type="text" id="serverName" placeholder="Enter server name" value="Minecraft Bot Hub">
                </div>
                <div class="form-field">
                    <label for="serverPort">Server Port</label>
                    <input type="number" id="serverPort" placeholder="Enter port number" value="25565">
                </div>
                <div class="form-field">
                    <label for="serverIP">Server IP Address</label>
                    <input type="text" id="serverIP" placeholder="Enter server IP" value="192.168.1.100">
                </div>
                <button class="save-btn" onclick="saveServerConfig()">💾 Save Configuration</button>
            </div>
            
            <!-- Bot Management -->
            <div class="settings-group">
                <h3>🤖 Bot Management</h3>
                <div class="bot-list" id="botList">
                    <div class="bot-item">
                        <div class="bot-info">
                            <div class="bot-status"></div>
                            <div class="bot-details">
                                <h4>Bot Alpha</h4>
                                <p>IP: 192.168.1.101 | Port: 8080</p>
                            </div>
                        </div>
                        <div class="bot-actions">
                            <button class="bot-action-btn" onclick="pingBot('alpha')">Ping</button>
                            <button class="bot-action-btn" onclick="restartBot('alpha')">Restart</button>
                        </div>
                    </div>
                    
                    <div class="bot-item">
                        <div class="bot-info">
                            <div class="bot-status"></div>
                            <div class="bot-details">
                                <h4>Bot Beta</h4>
                                <p>IP: 192.168.1.102 | Port: 8081</p>
                            </div>
                        </div>
                        <div class="bot-actions">
                            <button class="bot-action-btn" onclick="pingBot('beta')">Ping</button>
                            <button class="bot-action-btn" onclick="restartBot('beta')">Restart</button>
                        </div>
                    </div>
                    
                    <div class="bot-item">
                        <div class="bot-info">
                            <div class="bot-status"></div>
                            <div class="bot-details">
                                <h4>Bot Gamma</h4>
                                <p>IP: 192.168.1.103 | Port: 8082</p>
                            </div>
                        </div>
                        <div class="bot-actions">
                            <button class="bot-action-btn" onclick="pingBot('gamma')">Ping</button>
                            <button class="bot-action-btn" onclick="restartBot('gamma')">Restart</button>
                        </div>
                    </div>
                    
                    <div class="bot-item">
                        <div class="bot-info">
                            <div class="bot-status offline"></div>
                            <div class="bot-details">
                                <h4>Bot Delta</h4>
                                <p>IP: 192.168.1.104 | Port: 8083</p>
                            </div>
                        </div>
                        <div class="bot-actions">
                            <button class="bot-action-btn" onclick="pingBot('delta')">Ping</button>
                            <button class="bot-action-btn" onclick="restartBot('delta')">Restart</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Bot Deployment Configuration -->
            <div class="settings-group">
                <h3>🚀 Bot Deployment</h3>
                <div class="form-field">
                    <label for="deploymentName">Deployment Name</label>
                    <input type="text" id="deploymentName" placeholder="Enter deployment name" value="MCFleet Main">
                </div>
                <div class="form-field">
                    <label for="botCount">Number of Bots to Deploy</label>
                    <div class="slider-container">
                        <input type="range" id="botCount" min="1" max="20" value="4" class="bot-count-slider">
                        <span class="slider-value" id="sliderValue">4 bots</span>
                    </div>
                </div>
                <div class="form-field">
                    <label for="botNames">Bot Names (Real Gamer Names)</label>
                    <div class="bot-names-container">
                        <!-- Bot names will be generated dynamically based on slider value -->
                    </div>
                    <div class="bot-names-info">
                        <small>💡 Bot names will appear as real players on the server. Use creative gamer names!</small>
                    </div>
                </div>
                <div class="form-field">
                    <label for="deploymentServerIP">Server IP</label>
                    <input type="text" id="deploymentServerIP" placeholder="Enter server IP" value="play.mcfleet.net">
                </div>
                <div class="form-field">
                    <label for="deploymentServerName">Server Name</label>
                    <input type="text" id="deploymentServerName" placeholder="Enter server name" value="mcfleet">
                </div>
                <div class="form-field">
                    <label for="deploymentServerPort">Server Port</label>
                    <input type="number" id="deploymentServerPort" placeholder="Enter server port" value="25565">
                </div>
                <button class="deploy-btn" onclick="deployBots()">🚀 Deploy Bots</button>
            </div>
            
            <!-- Network Tools -->
            <div class="settings-group">
                <h3>🔧 Network Tools</h3>
                <div class="form-field">
                    <label for="pingTarget">Ping Target</label>
                    <input type="text" id="pingTarget" placeholder="Enter IP or hostname" value="8.8.8.8">
                </div>
                <button class="save-btn" onclick="pingTarget()">📡 Test Connection</button>
            </div>
            
            <!-- System Info -->
            <div class="settings-group">
                <h3>💻 System Information</h3>
                <div class="form-field">
                    <label>Current Time</label>
                    <input type="text" id="currentTime" readonly value="Loading...">
                </div>
                <div class="form-field">
                    <label>Uptime</label>
                    <input type="text" id="uptime" readonly value="Loading...">
                </div>
                <div class="form-field">
                    <label>Active Connections</label>
                    <input type="text" id="activeConnections" readonly value="Loading...">
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let isVisionVisible = true;
        let chatHistory = [];
        
        // Initialize the app - CONSOLIDATED INTO ONE DOMContentLoaded
        document.addEventListener('DOMContentLoaded', function() {
            setupMessageInput();
            simulateBotVision();
            
            // Initialize slider functionality
            const botCountSlider = document.getElementById('botCount');
            const sliderValue = document.getElementById('sliderValue');
            
            if (botCountSlider && sliderValue) {
                botCountSlider.addEventListener('input', function() {
                    const botCount = this.value;
                    sliderValue.textContent = botCount + ' bots';
                    updateBotNames(botCount);
                });
            }
            
            // Initialize bot names
            updateBotNames(4);
            
            // Load existing deployments
            loadExistingDeployments();
        });
        
        function setupMessageInput() {
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            
            if (messageInput && sendButton) {
                messageInput.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = Math.min(this.scrollHeight, 200) + 'px';
                    
                    // Enable/disable send button based on input
                    sendButton.disabled = !this.value.trim();
                });
                
                messageInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendMessage();
                    }
                });
            }
        }
        
        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            if (!messageInput) return;
            
            const message = messageInput.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessage(message, 'user');
            
            // Clear input
            messageInput.value = '';
            messageInput.style.height = 'auto';
            
            // Show typing indicator
            showTypingIndicator();
            
            // Simulate AI response
            setTimeout(() => {
                hideTypingIndicator();
                const response = generateAIResponse(message);
                addMessage(response, 'bot');
            }, 1000 + Math.random() * 2000);
        }
        
        function addMessage(content, sender) {
            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) return;
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = sender === 'user' ? 'U' : 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.textContent = content;
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            chatMessages.appendChild(messageDiv);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Store in history
            chatHistory.push({ sender, content, timestamp: new Date() });
        }
        
        function showTypingIndicator() {
            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) return;
            
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot';
            typingDiv.id = 'typingIndicator';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const typingContent = document.createElement('div');
            typingContent.className = 'message-content';
            typingContent.innerHTML = `
                <div class="typing-indicator">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            
            typingDiv.appendChild(avatar);
            typingDiv.appendChild(typingContent);
            chatMessages.appendChild(typingDiv);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        function generateAIResponse(userMessage) {
            const responses = [
                "I understand you want to " + userMessage.toLowerCase() + ". Let me analyze the best approach for your Minecraft server.",
                "Based on your request: " + userMessage + ", I'll coordinate with the bots to execute this action.",
                "Analyzing your prompt: " + userMessage + ". The bots are processing this request now.",
                "I've received your command: " + userMessage + ". Deploying appropriate bot strategies.",
                "Processing your request: " + userMessage + ". The AI system is coordinating with all active bots.",
                "Your prompt has been analyzed: " + userMessage + ". Executing optimal bot deployment strategy.",
                "I understand: " + userMessage + ". The bots are now implementing this plan.",
                "Command received: " + userMessage + ". Coordinating with all available bot resources."
            ];
            
            return responses[Math.floor(Math.random() * responses.length)];
        }
        
        function toggleVision() {
            const visionPanel = document.getElementById('visionPanel');
            if (visionPanel) {
                isVisionVisible = !isVisionVisible;
                visionPanel.style.display = isVisionVisible ? 'block' : 'none';
                
                const toggleBtn = document.getElementById('toggleVisionBtn');
                if (toggleBtn) {
                    toggleBtn.textContent = isVisionVisible ? 'Hide Vision' : 'Show Vision';
                }
            }
        }
        
        function startNewChat() {
            const chatMessages = document.getElementById('chatMessages');
            if (chatMessages) {
                chatMessages.innerHTML = '';
                chatHistory = [];
                
                // Add welcome message
                addMessage("Hello! I'm your AI assistant for Minecraft Bot Hub. How can I help you today?", 'bot');
            }
        }
        
        function simulateBotVision() {
            const visionFeed = document.getElementById('visionFeed');
            if (!visionFeed) return;
            
            const visionItems = [
                { name: 'Bot-001', status: 'Online', location: 'X: 100, Y: 64, Z: -200', activity: 'Mining diamonds' },
                { name: 'Bot-002', status: 'Online', location: 'X: 150, Y: 70, Z: -180', activity: 'Building house' },
                { name: 'Bot-003', status: 'Online', location: 'X: 80, Y: 65, Z: -220', activity: 'Farming wheat' },
                { name: 'Bot-004', status: 'Online', location: 'X: 120, Y: 68, Z: -190', activity: 'Exploring caves' }
            ];
            
            visionFeed.innerHTML = '';
            
            visionItems.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'vision-item';
                itemDiv.innerHTML = `
                    <div class="vision-header">
                        <span class="bot-name">${item.name}</span>
                        <span class="bot-status ${item.status.toLowerCase()}">${item.status}</span>
                    </div>
                    <div class="vision-details">
                        <div class="vision-location">📍 ${item.location}</div>
                        <div class="vision-activity">🔧 ${item.activity}</div>
                    </div>
                `;
                
                itemDiv.addEventListener('click', function() {
                    // Highlight selected bot
                    document.querySelectorAll('.vision-item').forEach(i => i.classList.remove('selected'));
                    this.classList.add('selected');
                });
                
                visionFeed.appendChild(itemDiv);
            });
        }
        
        function toggleSettings() {
            const settingsPanel = document.getElementById('settingsPanel');
            if (settingsPanel) {
                const isVisible = settingsPanel.style.display !== 'none';
                settingsPanel.style.display = isVisible ? 'none' : 'block';
                
                const toggleBtn = document.getElementById('toggleSettingsBtn');
                if (toggleBtn) {
                    toggleBtn.textContent = isVisible ? 'Show Settings' : 'Hide Settings';
                }
            }
        }
        
        function saveServerConfig() {
            const serverName = document.getElementById('serverName').value;
            const serverIP = document.getElementById('serverIP').value;
            const serverPort = document.getElementById('serverPort').value;
            
            if (!serverName || !serverIP || !serverPort) {
                alert('Please fill in all server configuration fields');
                return;
            }
            
            // Save configuration (in real app, this would go to backend)
            localStorage.setItem('serverConfig', JSON.stringify({
                name: serverName,
                ip: serverIP,
                port: serverPort
            }));
            
            alert('Server configuration saved successfully!');
        }
        
        function pingBot(botName) {
            const statusElement = document.getElementById(`botStatus_${botName}`);
            if (statusElement) {
                statusElement.textContent = 'Pinging...';
                statusElement.className = 'bot-status pinging';
                
                // Simulate ping response
                setTimeout(() => {
                    statusElement.textContent = 'Online';
                    statusElement.className = 'bot-status online';
                }, 1000 + Math.random() * 2000);
            }
        }
        
        function restartBot(botName) {
            const statusElement = document.getElementById(`botStatus_${botName}`);
            if (statusElement) {
                statusElement.textContent = 'Restarting...';
                statusElement.className = 'bot-status restarting';
                
                // Simulate restart
                setTimeout(() => {
                    statusElement.textContent = 'Online';
                    statusElement.className = 'bot-status online';
                }, 3000 + Math.random() * 2000);
            }
        }
        
        function pingTarget() {
            const targetIP = document.getElementById('pingTarget').value;
            if (!targetIP) {
                alert('Please enter a target IP address');
                return;
            }
            
            const pingResult = document.getElementById('pingResult');
            if (pingResult) {
                pingResult.textContent = 'Pinging...';
                
                // Simulate ping
                setTimeout(() => {
                    const latency = Math.floor(Math.random() * 100) + 20;
                    pingResult.textContent = `Ping: ${latency}ms`;
                }, 1000);
            }
        }
        
        function refreshConnection() {
            const connectionStatus = document.getElementById('connectionStatus');
            if (connectionStatus) {
                connectionStatus.textContent = 'Refreshing...';
                
                // Simulate refresh
                setTimeout(() => {
                    connectionStatus.textContent = 'Connected';
                    connectionStatus.className = 'connection-status connected';
                }, 1500);
            }
        }
        
        function updateSystemInfo() {
            const systemInfo = document.getElementById('systemInfo');
            if (systemInfo) {
                const info = {
                    uptime: Math.floor(Math.random() * 24) + 'h ' + Math.floor(Math.random() * 60) + 'm',
                    memory: Math.floor(Math.random() * 20) + 80 + '%',
                    cpu: Math.floor(Math.random() * 30) + 40 + '%',
                    connections: Math.floor(Math.random() * 50) + 10
                };
                
                systemInfo.innerHTML = `
                    <div class="info-item">
                        <label>Uptime</label>
                        <span>${info.uptime}</span>
                    </div>
                    <div class="info-item">
                        <label>Memory Usage</label>
                        <span>${info.memory}</span>
                    </div>
                    <div class="info-item">
                        <label>CPU Usage</label>
                        <span>${info.cpu}</span>
                    </div>
                    <div class="info-item">
                        <label>Active Connections</label>
                        <span>${info.connections}</span>
                    </div>
                `;
            }
        }
        
        function deployBots() {
            const botCount = document.getElementById('botCount').value;
            const serverName = document.getElementById('deploymentServerName').value;
            const serverIP = document.getElementById('deploymentServerIP').value;
            const serverPort = document.getElementById('deploymentServerPort').value;
            
            if (!botCount || !serverName || !serverIP || !serverPort) {
                alert('Please fill in all deployment fields');
                return;
            }
            
            const deployBtn = document.getElementById('deployBtn');
            const originalText = deployBtn.textContent;
            
            deployBtn.textContent = 'Deploying...';
            deployBtn.disabled = true;
            
            // Get bot names
            const botNames = getAllBotNames();
            
            // Create deployment data
            const deploymentData = {
                name: `Deployment-${Date.now()}`,
                bot_count: parseInt(botCount),
                server_name: serverName,
                server_ip: serverIP,
                server_port: parseInt(serverPort),
                bot_names: botNames
            };
            
            // Create deployment
            createDeployment(deploymentData, deployBtn, originalText, botNames);
        }
        
        async function createDeployment(deploymentData, deployBtn, originalText, botNames) {
            try {
                const response = await fetch('/api/deployments/create', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(deploymentData)
                });
                
                const data = await response.json();
                
                if (data.success) {
                    // Simulate deployment process
                    deployBtn.textContent = 'Deploying...';
                    
                    const totalDelay = 2000 + (deploymentData.bot_count * 500);
                    const botNameList = botNames.join(', ');
                    
                    setTimeout(() => {
                        deployBtn.textContent = 'Deployed!';
                        deployBtn.className = 'deploy-btn deployed';
                        
                        // Add success message to chat
                        addMessage(`🎉 Deployment created successfully! Deploying ${deploymentData.bot_count} bots to ${deploymentData.server_name}`, 'bot');
                        
                        setTimeout(() => {
                            deployBtn.textContent = originalText;
                            deployBtn.disabled = false;
                            deployBtn.className = 'deploy-btn';
                        }, 2000);
                        
                        // Simulate bot deployment
                        addMessage(`🚀 Deploying bots: ${botNameList}`, 'bot');
                        
                        setTimeout(() => {
                            addMessage(`🎉 All bots (${botNameList}) are now LIVE and connected to ${deploymentData.server_ip}:${deploymentData.server_port}!`, 'bot');
                        }, totalDelay);
                    }, totalDelay);
                } else {
                    throw new Error(data.error || 'Deployment failed');
                }
            } catch (error) {
                console.error('Deployment error:', error);
                deployBtn.textContent = 'Deployment Failed';
                deployBtn.className = 'deploy-btn failed';
                
                addMessage(`❌ Deployment failed: ${error.message}`, 'bot');
                
                setTimeout(() => {
                    deployBtn.textContent = originalText;
                    deployBtn.disabled = false;
                    deployBtn.className = 'deploy-btn';
                }, 3000);
            }
        }
        
        function goLive() {
            const botCount = document.getElementById('botCount').value;
            const serverName = document.getElementById('deploymentServerName').value;
            const serverIP = document.getElementById('deploymentServerIP').value;
            const serverPort = document.getElementById('deploymentServerPort').value;
            
            if (!botCount || !serverName || !serverIP || !serverPort) {
                alert('Please fill in all deployment fields');
                return;
            }
            
            const goLiveBtn = document.getElementById('goLiveBtn');
            const originalText = goLiveBtn.textContent;
            
            goLiveBtn.textContent = 'Going Live...';
            goLiveBtn.disabled = true;
            
            // Get bot names
            const botNames = getAllBotNames();
            
            // Simulate going live
            addMessage(`🚀 Going LIVE with ${botCount} bots to ${serverName}!`, 'bot');
            
            const totalDelay = 3000 + (botCount * 800);
            
            setTimeout(() => {
                goLiveBtn.textContent = 'LIVE!';
                goLiveBtn.className = 'go-live-btn live';
                
                addMessage(`🎉 All bots (${botNames.join(', ')}) are now LIVE and connected to ${serverIP}:${serverPort}!`, 'bot');
            }, totalDelay);
        }
        
        // Load existing deployments from backend
        async function loadExistingDeployments() {
            try {
                const response = await fetch('/api/deployments/list');
                const data = await response.json();
                
                if (data.deployments && data.deployments.length > 0) {
                    // Load the most recent deployment
                    const latestDeployment = data.deployments[0];
                    loadDeploymentToForm(latestDeployment);
                }
            } catch (error) {
                console.log('No existing deployments or error loading:', error);
            }
        }
        
        // Load deployment data into form
        function loadDeploymentToForm(deployment) {
            if (deployment.deployment_name) {
                const element = document.getElementById('deploymentName');
                if (element) element.value = deployment.deployment_name;
            }
            if (deployment.bot_count) {
                const element = document.getElementById('botCount');
                if (element) {
                    element.value = deployment.bot_count;
                    const sliderValue = document.getElementById('sliderValue');
                    if (sliderValue) sliderValue.textContent = deployment.bot_count + ' bots';
                    updateBotNames(deployment.bot_count);
                }
            }
            if (deployment.server_ip) {
                const element = document.getElementById('deploymentServerIP');
                if (element) element.value = deployment.server_ip;
            }
            if (deployment.server_name) {
                const element = document.getElementById('deploymentServerName');
                if (element) element.value = deployment.server_name;
            }
            if (deployment.server_port) {
                const element = document.getElementById('deploymentServerPort');
                if (element) element.value = deployment.server_port;
            }
            
            // Load bot names if available
            if (deployment.configuration && deployment.configuration.bot_names) {
                loadBotNamesToForm(deployment.configuration.bot_names);
            }
        }
        
        // Load bot names into form inputs
        function loadBotNamesToForm(botNames) {
            const container = document.querySelector('.bot-names-container');
            if (!container) return;
            
            container.innerHTML = '';
            
            botNames.forEach((botName, index) => {
                const botItem = createBotNameItem(index + 1, botName);
                container.appendChild(botItem);
            });
        }
        
        // Bot names management
        function updateBotNames(botCount) {
            const container = document.querySelector('.bot-names-container');
            if (!container) return;
            
            // Clear existing bot names
            container.innerHTML = '';
            
            // Generate bot names based on count
            for (let i = 1; i <= botCount; i++) {
                const botName = generateBotName(i);
                const botItem = createBotNameItem(i, botName);
                container.appendChild(botItem);
            }
        }
        
        function generateBotName(botNumber) {
            const gamerNames = [
                'IronMiner', 'WoodCutter', 'StoneBreaker', 'DiamondHunter',
                'NetherExplorer', 'EndVoyager', 'RedstoneMaster', 'Enchanter',
                'PotionBrewer', 'Archer', 'Swordsman', 'Miner',
                'Farmer', 'Builder', 'Explorer', 'Trader',
                'Guardian', 'Scout', 'Navigator', 'Artisan'
            ];
            
            if (botNumber <= gamerNames.length) {
                return gamerNames[botNumber - 1];
            } else {
                return `Bot${botNumber}`;
            }
        }
        
        function createBotNameItem(botId, defaultName) {
            const botItem = document.createElement('div');
            botItem.className = 'bot-name-item';
            botItem.innerHTML = `
                <input type="text" 
                       class="bot-name-input" 
                       value="${defaultName}" 
                       placeholder="Bot ${botId} name"
                       data-bot-id="${botId}">
                <div class="bot-status-indicator online" id="botStatus_${botId}">Online</div>
            `;
            
            return botItem;
        }
        
        function updateBotStatus(botId, status) {
            const statusElement = document.getElementById(`botStatus_${botId}`);
            if (statusElement) {
                statusElement.textContent = status;
                statusElement.className = `bot-status-indicator ${status.toLowerCase()}`;
            }
        }
        
        function getAllBotNames() {
            const botNameInputs = document.querySelectorAll('.bot-name-input');
            const botNames = [];
            
            botNameInputs.forEach(input => {
                const name = input.value.trim();
                if (name) {
                    botNames.push(name);
                }
            });
            
            return botNames;
        }
    </script>
</body>
</html>